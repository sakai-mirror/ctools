<project name="build-patches" basedir="." default="info" >

  <!--

$Id$
$HeadURL$

Apply patches to the code.  This is used to avoid having to have a UMich specific branch of Sakai.

  -->

  <!-- ========================================================================== -->

  <!-- Update the dependencies for this target to appropriate ones for this configuration. -->



  <!-- This target specifies the patches to apply.  By convention each
       new incremental release adds a new target with the new patches
       applied.  If this doesn't fit particular circumstances (e.g. an
       earlier patch is retracted) please add a comment.
  -->

  <target name="applyPatches" 
	  depends="applyPatches_2-4-xA,applyPatches_2-4-xB" 
	  />



  <!-- ========================================================================== -->
  <!-- ==                    Targets for specific patch sets.                  == -->
  <!-- ========================================================================== -->


  <target name="noPatches" >
    <echo>No patches to apply.</echo>
  </target>


  <target name="applyPatches_2-4-xA" >
    <echo message="applying patch set 2-4-xA" />

    <!-- same as 2-4-0_p1 -->

    <!-- query speedup -->
    <applyPatch patchFileName="SPEED.patch" />

    <!-- change site dropdown from 'more' to 'more sites' -->
    <applyPatch patchFileName="SAK-7489.patch" />

    <!-- chat migration fixes -->
    <applyPatch patchFileName="SAK-10483.patch" />
    <applyPatch patchFileName="CT-231.patch" />

    <!-- missing login logout images -->
    <applyPatch patchFileName="SAK-10498.patch" />

    <!-- missing podcasts exception -->
    <!-- seems to be in 2.4.x as of 2007/07/23 
	 <applyPatch patchFileName="SAK-10332.patch" />
    -->

  </target>

  <target name="applyPatches_2-4-xB" >
    <echo message="applying patch set 2-4-xB" />

    <!-- db changes required by:
	 SAK-9725 (not part of 2.4.x) 
	 SAK-9808 (part of 2.4.x at this point)
	 SAK-10454 suggested for Samigo
    -->
    

    <!-- patches for the OSP for the med school -->

    <applyPatch patchFileName="SAK-9725.patch" /> <!-- requires db change -->
    <applyPatch patchFileName="SAK-10583.patch" />

    <!-- patches to be checked out -->
    <!-- in 2.4.x as of 2007/07/23 
	 <applyPatch patchFileName="SAK-9123.patch" />
    -->

    <!-- assignment tool Word file corruption -->
    <applyPatch patchFileName="SAK-10683.patch" />
    <!-- in 2.4.x as of 2007/07/23 
	 <applyPatch patchFileName="SAK-8449.patch" />
    -->

    <!-- home grown patch for rss _blank in library reserves. -->
    <applyPatch patchFileName="SAK-10810.patch" />

    <!-- patch default number of site tabs, and make it 
    settable via sakai.properties -->
    <applyPatch patchFileName="SAK-10497.patch" />

  </target>

</project>
